# üìö Epub Annotator

**Epub Annotator** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ –∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è EPUB-–∫–Ω–∏–≥. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç —è–∑—ã–∫, —É—Ä–æ–≤–µ–Ω—å, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–Ω–∏–≥—É ‚Äî –Ω–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∞–µ—Ç EPUB —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º, –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ–º –∫–ª—é—á–µ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–¥ —É—Ä–æ–≤–µ–Ω—å –≤–ª–∞–¥–µ–Ω–∏—è.
–°–æ–∑–¥–∞–Ω –∏–∑ –ª–∏—á–Ω–æ–π –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏.

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö –º–æ–¥—É–ª–µ–π:

### üåê –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Flask)

* –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Bootstrap
* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —è–∑—ã–∫ –∏ —É—Ä–æ–≤–µ–Ω—å
* –ó–∞–≥—Ä—É–∂–∞–µ—Ç EPUB-—Ñ–∞–π–ª
* –ü–æ–ª—É—á–∞–µ—Ç –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∫–Ω–∏–≥–∏

### ü§ñ Telegram-–±–æ—Ç (Aiogram)

* –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ Telegram
* –í—Å—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è ‚Äî —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è EPUB-—Ñ–∞–π–ª–æ–≤

### üß† –û–±—Ä–∞–±–æ—Ç–∫–∞ (book\_processor.py)

* –ü–∞—Ä—Å–∏–Ω–≥ XHTML-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–Ω–∏–≥–∏
* –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (NLTK)
* –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:

  * –ü–µ—Ä–µ–≤–æ–¥
  * –ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–±–æ—Ä (–ø–æ–¥–ª–µ–∂–∞—â–µ–µ, —Å–∫–∞–∑—É–µ–º–æ–µ, —É—Å—Ç–æ–π—á–∏–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è)
  * –ü–æ—è—Å–Ω–µ–Ω–∏—è —Å —É—á—ë—Ç–æ–º —É—Ä–æ–≤–Ω—è –≤–ª–∞–¥–µ–Ω–∏—è —è–∑—ã–∫–æ–º
* –í—Å—Ç–∞–≤–∫–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –≤ —Ç–µ–∫—Å—Ç:

  * **–ñ–∏—Ä–Ω—ã–π** ‚Äî –ø–æ–¥–ª–µ–∂–∞—â–µ–µ
  * *–ö—É—Ä—Å–∏–≤* ‚Äî —Å–∫–∞–∑—É–µ–º–æ–µ
  * <ins>–ü–æ–¥—á—ë—Ä–∫–Ω—É—Ç–æ</ins> ‚Äî —É—Å—Ç–æ–π—á–∏–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
  * \[1] ‚Äî —Å–Ω–æ—Å–∫–∏ —Å —è–∑—ã–∫–æ–≤—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
* –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî EPUB, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project_root/
‚îÇ
‚îú‚îÄ‚îÄ web_app/             # Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ telegram_bot/        # Telegram-–±–æ—Ç (Aiogram)
‚îú‚îÄ‚îÄ book_processor.py    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–∏–≥
‚îú‚îÄ‚îÄ database/            # SQLite —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îú‚îÄ‚îÄ epub_files/          # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –≤—ã–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∫–ª—é—á–∏)
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ docker-compose.yml
```

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* **Flask** ‚Äî –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
* **Aiogram** ‚Äî Telegram-–±–æ—Ç
* **ebooklib + BeautifulSoup** ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ EPUB
* **NLTK** ‚Äî —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
* **Google Gemini API** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
* **SQLite** ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –ë–î
* **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

* –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
* –û—á–∏—Å—Ç–∫–∞ –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤
* –û–±—Ä–∞–±–æ—Ç–∫–∞ API-–æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤
* –ü–∞—É–∑–∞ –Ω–∞ –ª–∏–º–∏—Ç–∞—Ö Gemini API
* –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–ø–æ—Ä—á–µ–Ω–Ω—ã—Ö EPUB

---

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

* –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
* –û—à–∏–±–∫–∏ –æ—Ç LLM
* –°–±–æ–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON)

---

## üóÉÔ∏è –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

* –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: SQLite
* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–Ω–æ–Ω–∏–º–Ω—ã–µ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π `client_id`)
* –ü–æ–ª—è: —è–∑—ã–∫, —É—Ä–æ–≤–µ–Ω—å
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–æ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∑–æ–∫ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

---

## üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å

* –ß–∏—Å—Ç–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ `book_processor.py`
* –£–¥–æ–±–Ω–æ –ø–æ–∫—Ä—ã–≤–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞–º–∏
* –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞: Telegram, Web
* –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –ª–µ–≥–∫–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –º–æ–∫–∞–º–∏
